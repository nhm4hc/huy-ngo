C51 COMPILER V9.60.0.0   MODULE_3                                                          12/11/2023 23:50:18 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE MODULE_3
OBJECT MODULE PLACED IN .\Objects\module_3.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE module_3.c LARGE WARNINGLEVEL(1) OPTIMIZE(8,SIZE) BROWSE DEBUG OBJECTEXT
                    -END PRINT(.\Listings\module_3.lst) TABS(2) OBJECT(.\Objects\module_3.obj)

line level    source

   1          #include "module_3.h"
   2          #include "interruptPublish.h"
   3          
   4          void At24c02Write(unsigned char addr,unsigned char dat){
   5   1        I2cStart();
   6   1        I2cSendByte(0xa2);//·// ten eeprom
   7   1        I2cSendByte(addr);//·dia chi trong eeprom
   8   1        I2cSendByte(dat); //·data eeprom
   9   1        I2cStop();
  10   1      }
  11          
  12          unsigned char At24c02Read(unsigned char addr){
  13   1        unsigned char num;
  14   1        I2cStart();
  15   1        I2cSendByte(0xa2); 
  16   1        I2cSendByte(addr); 
  17   1        I2cStart();
  18   1        I2cSendByte(0xa3); 
  19   1        num = I2cReadByte(); 
  20   1        I2cStop();
  21   1        return num; 
  22   1      }
  23          
  24          void module3_Delay1ms(void)   
  25          {
  26   1          unsigned char a,b,c;
  27   1          for(c=1;c>0;c--)
  28   1              for(b=142;b>0;b--)
  29   1                  for(a=2;a>0;a--);
  30   1      }
  31          
  32          void Timer0Configuration(void){
  33   1        SET_BIT(c_interrupt,MODULE_1);
  34   1        Num = 0;
  35   1        TMOD=0X02;
  36   1        TH0=0X9C; 
  37   1        TL0=0X9C; 
  38   1        ET0=1;
  39   1        EA=1;
  40   1        TR0=1;  
  41   1      }
  42          
  43          void module_3(void){
  44   1        unsigned int num0 = 0, num1 = 0, n = 0;
  45   1        Timer0Configuration();
  46   1        if(module3_K1==0)   // ghi giá tri vào eeprom
  47   1        {
  48   2          module3_Delay1ms();
  49   2          if(module3_K1==0)
  50   2            At24c02Write(2,num0);
  51   2          while((n<200)&&(module3_K3==0))
  52   2          {
  53   3            n++;
  54   3            module3_Delay1ms(); 
C51 COMPILER V9.60.0.0   MODULE_3                                                          12/11/2023 23:50:18 PAGE 2   

  55   3          }     
  56   2          n=0;
  57   2          n=0;
  58   2        }
  59   1          
  60   1        if(module3_K2 == 0)   // doc giá tri tu eeprom
  61   1        {
  62   2          module3_Delay1ms();
  63   2          if(module3_K2 == 0)
  64   2            num0=At24c02Read(2);
  65   2          while((n<200)&&(module3_K3 == 0))
  66   2          {
  67   3            n++;
  68   3            module3_Delay1ms(); 
  69   3          }     
  70   2          n=0;
  71   2        }     
  72   1        if(module3_K3 == 0)
  73   1        {
  74   2          module3_Delay1ms();
  75   2          if(module3_K3 == 0)
  76   2            num0++;
  77   2          while((n<200)&&(module3_K3 == 0))
  78   2          {
  79   3            n++;
  80   3            module3_Delay1ms(); 
  81   3          }     
  82   2          n=0;
  83   2          if(num0==256)
  84   2            num0=0;
  85   2        }
  86   1            
  87   1        if(module3_K4==0)
  88   1        {
  89   2          module3_Delay1ms();
  90   2          if(module3_K4==0)
  91   2            num0=0;
  92   2          while((n<200)&&(module3_K3==0))
  93   2          {
  94   3            n++;
  95   3            module3_Delay1ms(); 
  96   3          }     
  97   2          n=0;
  98   2        }     
  99   1        disp[0]=DIG_CODE[num1/1000];//Ç§Î»
 100   1        disp[1]=DIG_CODE[num1%1000/100];//°ÙÎ»
 101   1        disp[2]=DIG_CODE[num1%1000%100/10];//Ê®Î»
 102   1        disp[3]=DIG_CODE[num1%1000%100%10];//¸öÎ»
 103   1        disp[4]=DIG_CODE[num0/1000];//Ç§Î»
 104   1        disp[5]=DIG_CODE[num0%1000/100];//°ÙÎ»
 105   1        disp[6]=DIG_CODE[num0%1000%100/10];//¸öÎ»
 106   1        disp[7]=DIG_CODE[num0%1000%100%10];
 107   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    693    ----
   CONSTANT SIZE    =     10    ----
   XDATA SIZE       =      9      10
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
C51 COMPILER V9.60.0.0   MODULE_3                                                          12/11/2023 23:50:18 PAGE 3   

   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
